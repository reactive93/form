<html  xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<section layout:fragment="menu">
    <ul>
        <li th:each="menuItem : ${menuItemsList}" th:text="${menuItem.name}">
            <section layout:include="@{menuFragment} :: menu" th:with="menuItemsList=${menuItem.children}"></section>
        </li>
    </ul>
</section>
</html>